# =============================================
# CODECRAFT GEN-Z - VARIAVEIS DE AMBIENTE
# =============================================
# IMPORTANTE: Copie este arquivo para .env e preencha os valores
# NUNCA commite o arquivo .env no repositorio!
# =============================================

# ---------------------------------------------
# SERVIDOR
# ---------------------------------------------
PORT=8080
NODE_ENV=development

# ---------------------------------------------
# FRONTEND (VITE) - Expostas no build
# Variaveis com prefixo VITE_ sao publicas!
# ---------------------------------------------
VITE_API_URL=http://localhost:8080
VITE_ALLOW_EXTERNAL_API=false
VITE_ENABLE_PWA=true
VITE_CACHE_MAX_AGE=86400
VITE_DEBUG=false
VITE_APP_ENV=development

# ---------------------------------------------
# MERCADO PAGO - PUBLIC KEY (pode ser exposta)
# ---------------------------------------------
VITE_MERCADO_PAGO_PUBLIC_KEY=APP_USR-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
MERCADO_PAGO_PUBLIC_KEY=APP_USR-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Controle de UI de pagamento
VITE_ENABLE_CARD_PAYMENT_UI=false
VITE_ADMIN_PUBLIC_FALLBACK=off

# ---------------------------------------------
# MERCADO PAGO - SECRETS (NUNCA expor no frontend!)
# Obter em: https://www.mercadopago.com.br/developers/panel/app
# ---------------------------------------------
MERCADO_PAGO_ACCESS_TOKEN=APP_USR-0000000000000000-000000-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-000000000
MERCADO_PAGO_WEBHOOK_SECRET=gerar_secret_seguro_aqui

# URLs de retorno (ajuste para seu dominio em producao)
MERCADO_PAGO_SUCCESS_URL=http://localhost:5173/apps/:id/compra
MERCADO_PAGO_FAILURE_URL=http://localhost:5173/apps/:id/compra
MERCADO_PAGO_PENDING_URL=http://localhost:5173/apps/:id/compra
MERCADO_PAGO_WEBHOOK_URL=http://localhost:8080/api/apps/webhook

# Opcoes de parcelamento (opcional)
MERCADO_PAGO_INSTALLMENTS_MAX=12
MERCADO_PAGO_DEFAULT_INSTALLMENTS=1
MERCADO_PAGO_EXCLUDED_PAYMENT_TYPES=
MERCADO_PAGO_EXCLUDED_PAYMENT_METHODS=
MERCADO_PAGO_STATEMENT_DESCRIPTOR=CODECRAFT

# ---------------------------------------------
# AUTENTICACAO - SECRETS (GERAR CHAVES SEGURAS!)
# Gerar com: openssl rand -base64 32
# ---------------------------------------------
JWT_SECRET=GERAR_NOVA_CHAVE_COM_OPENSSL_RAND_BASE64_32
ADMIN_RESET_TOKEN=GERAR_TOKEN_ALEATORIO_SEGURO

# ---------------------------------------------
# EMAIL (GMAIL SMTP)
# Criar App Password: https://myaccount.google.com/apppasswords
# ---------------------------------------------
EMAIL_USER=seu_email@gmail.com
EMAIL_PASS=xxxx_xxxx_xxxx_xxxx

# ---------------------------------------------
# BANCO DE DADOS (AZURE SQL)
# ---------------------------------------------
DB_USER=seu_usuario
DB_SERVER=seu_servidor.database.windows.net
DB_PASSWORD=sua_senha_segura
DATABASE_URL=

# ---------------------------------------------
# AZURE APPLICATION INSIGHTS (opcional)
# ---------------------------------------------
APPLICATIONINSIGHTS_CONNECTION_STRING=

# ---------------------------------------------
# CORS - ORIGENS PERMITIDAS
# Separar por virgula, sem espacos
# ---------------------------------------------
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8080

# ---------------------------------------------
# OAUTH MERCADO LIVRE (opcional)
# ---------------------------------------------
MELI_CLIENT_ID=
MELI_CLIENT_SECRET=
MELI_REDIRECT_URI=http://localhost:8080/api/mercado-livre/oauth/callback
MELI_OAUTH_URL=https://api.mercadolibre.com/oauth/token
MELI_SYNC_URL=https://api.mercadopago.com/merchant_orders
MELI_LOG_LEVEL=info
