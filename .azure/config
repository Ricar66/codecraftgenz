[defaults]
group = codecraft-rg
location = eastus
web = codecraft-app

[azure-app-service]
startup-file = startup.sh
runtime-version = NODE|22-lts
always-on = true
http20-enabled = true
min-tls-version = 1.2

[build]
pre-build-command = npm ci --production=false
build-command = npm run build

[environment]
NODE_ENV = production
WEBSITE_NODE_DEFAULT_VERSION = 22.17.0
SCM_DO_BUILD_DURING_DEPLOYMENT = true