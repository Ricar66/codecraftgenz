import{r as n,R as e}from"./router-5U3rcizL.js";var o={};Object.defineProperty(o,"__esModule",{value:!0});var t=o.loadMercadoPago=void 0;const a="https://sdk.mercadopago.com/js/v2",c=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/;let r=null;t=o.loadMercadoPago=()=>(null!==r||(r=new Promise((n,e)=>{if("undefined"!=typeof window)if(window.MercadoPago)n(window.MercadoPago);else try{let o=(()=>{for(var n=document.querySelectorAll(`script[src^="${a}"`),e=0;e<n.length;e++){var o=n[e];if(c.test(o.src))return o}return null})();o||o||(o=(()=>{const n=document.createElement("script");n.src=a;const e=document.head||document.body;if(!e)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return e.appendChild(n),n})()),o.addEventListener("load",()=>{window.MercadoPago?n(window.MercadoPago):e(new Error("MercadoPago.js not available"))}),o.addEventListener("error",()=>{e(new Error("Failed to load MercadoPago.js"))})}catch(o){return void e(o)}else n(null)})),r);var i=function(n,e,o,t){return new(o||(o=Promise))(function(a,c){function r(n){try{d(t.next(n))}catch(e){c(e)}}function i(n){try{d(t.throw(n))}catch(e){c(e)}}function d(n){var e;n.done?a(n.value):(e=n.value,e instanceof o?e:new o(function(n){n(e)})).then(r,i)}d((t=t.apply(n,e||[])).next())})};class d{static getInstance(){return i(this,void 0,void 0,function*(){if(this.publicKey)return this.loadedInstanceMercadoPago||(yield t(),this.loadedInstanceMercadoPago=!0),this.instanceMercadoPago||(this.instanceMercadoPago=new window.MercadoPago(this.publicKey,this.options)),this.instanceMercadoPago})}}d.publicKey=null,d.options={},d.instanceMercadoPago=void 0,d.loadedInstanceMercadoPago=!1;const s=(n,e)=>{const o=Object.assign(Object.assign({},e),{frontEndStack:"react"}),t=(a=d.options,c=o,!(Object.keys(a).length===Object.keys(c).length&&Object.keys(a).every(n=>Object.prototype.hasOwnProperty.call(c,n)&&a[n]===c[n])));var a,c;(n!==d.publicKey||t)&&(d.publicKey=n,d.options=o,d.instanceMercadoPago=void 0)};var l=function(n,e,o,t){return new(o||(o=Promise))(function(a,c){function r(n){try{d(t.next(n))}catch(e){c(e)}}function i(n){try{d(t.throw(n))}catch(e){c(e)}}function d(n){var e;n.done?a(n.value):(e=n.value,e instanceof o?e:new o(function(n){n(e)})).then(r,i)}d((t=t.apply(n,e||[])).next())})};const u=()=>l(void 0,void 0,void 0,function*(){}),v=()=>{},f=n=>{},y=n=>{};var h=function(n,e,o,t){return new(o||(o=Promise))(function(a,c){function r(n){try{d(t.next(n))}catch(e){c(e)}}function i(n){try{d(t.throw(n))}catch(e){c(e)}}function d(n){var e;n.done?a(n.value):(e=n.value,e instanceof o?e:new o(function(n){n(e)})).then(r,i)}d((t=t.apply(n,e||[])).next())})};const p=({onReady:o=v,onError:t=f,onSubmit:a=u,onBinChange:c=y,initialization:r,customization:i,locale:s,id:l="cardPaymentBrick_container"})=>(n.useEffect(()=>{const n={settings:{initialization:r,customization:i,callbacks:{onReady:o,onSubmit:a,onError:t,onBinChange:c},locale:s},name:"cardPayment",containerId:l,controller:"cardPaymentBrickController"},e=setTimeout(()=>{(({settings:n,name:e,containerId:o,controller:t})=>{h(void 0,void 0,void 0,function*(){const a=yield d.getInstance(),c=null==a?void 0:a.bricks();window[t]=yield null==c?void 0:c.create(e,o,n)})})(n)},200);return()=>{var n;clearTimeout(e),null===(n=window.cardPaymentBrickController)||void 0===n||n.unmount()}},[r,i,c,o,t,a]),e.createElement("div",{id:l}));var w=function(n,e,o,t){return new(o||(o=Promise))(function(a,c){function r(n){try{d(t.next(n))}catch(e){c(e)}}function i(n){try{d(t.throw(n))}catch(e){c(e)}}function d(n){var e;n.done?a(n.value):(e=n.value,e instanceof o?e:new o(function(n){n(e)})).then(r,i)}d((t=t.apply(n,e||[])).next())})};const g=n=>w(void 0,void 0,void 0,function*(){const e=yield d.getInstance();return null==e?void 0:e.getPaymentMethods(n)});export{p as C,g,s as i};
