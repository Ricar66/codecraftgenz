import{u as e,j as a,a as r}from"./index-BNwvcLYh.js";import{r as s,L as t}from"./router-Bh7m2j_b.js";import{N as i}from"./Navbar-Bm4WAk2C.js";function o(){const{login:o}=e(),[n,l]=s.useState(""),[m,d]=s.useState(""),[c,p]=s.useState(""),[u,g]=s.useState(""),[x,f]=s.useState(""),[h,b]=s.useState(!1);return a.jsxs("div",{className:"register-page page-with-background",children:[a.jsx(i,{}),a.jsx("section",{className:"section-block","aria-label":"Formulario de registro",children:a.jsxs("div",{className:"register-card",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"title",children:"Criar Conta"}),a.jsx("p",{className:"subtitle",children:"Cadastre-se para acessar a plataforma"})]}),a.jsxs("form",{className:"form",onSubmit:async e=>{if(e.preventDefault(),f(""),n.trim())if(m.trim())if(c.length<6)f("A senha deve ter pelo menos 6 caracteres.");else if(c===u){b(!0);try{const e=await r("/api/auth/register",{method:"POST",body:JSON.stringify({name:n,email:m,password:c})});if(e?.token||e?.data?.token){const a=e.token||e.data.token;localStorage.setItem("cc_session",JSON.stringify({token:a})),await o(m,c)}else f("Registro realizado, mas houve erro ao fazer login automatico. Tente fazer login manualmente.")}catch(a){f(a?.message||a?.error||"Erro ao criar conta. Tente novamente.")}finally{b(!1)}}else f("As senhas nao conferem.");else f("Por favor, informe seu e-mail.");else f("Por favor, informe seu nome.")},"aria-label":"Formulario de cadastro",children:[a.jsx("label",{className:"label",htmlFor:"register-name",children:"Nome completo"}),a.jsx("input",{className:"input",type:"text",id:"register-name",name:"name",value:n,onChange:e=>l(e.target.value),required:!0,autoComplete:"name",placeholder:"Seu nome"}),a.jsx("label",{className:"label",htmlFor:"register-email",children:"E-mail"}),a.jsx("input",{className:"input",type:"email",id:"register-email",name:"email",value:m,onChange:e=>d(e.target.value),required:!0,autoComplete:"email",placeholder:"seu@email.com"}),a.jsx("label",{className:"label",htmlFor:"register-password",children:"Senha"}),a.jsx("input",{className:"input",type:"password",id:"register-password",name:"password",value:c,onChange:e=>p(e.target.value),required:!0,autoComplete:"new-password",placeholder:"Minimo 6 caracteres"}),a.jsx("label",{className:"label",htmlFor:"register-confirm-password",children:"Confirmar Senha"}),a.jsx("input",{className:"input",type:"password",id:"register-confirm-password",name:"confirmPassword",value:u,onChange:e=>g(e.target.value),required:!0,autoComplete:"new-password",placeholder:"Repita a senha"}),x&&a.jsx("div",{className:"error",role:"alert",children:x}),a.jsx("button",{className:"btnPrimary",type:"submit",disabled:h,children:h?"Criando conta...":"Criar Conta"}),a.jsxs("div",{className:"actions",children:[a.jsx("span",{className:"text",children:"Ja tem uma conta?"}),a.jsx(t,{className:"link",to:"/login",children:"Fazer login"})]})]})]})}),a.jsx("style",{children:"\n        .register-page { min-height: 100vh; }\n        .section-block { padding: var(--espaco-3xl) var(--espaco-xl); }\n        .register-card { max-width: 420px; margin: 0 auto; background: #F4F4F4; border-radius: 16px; padding: 24px; box-shadow: 0 12px 32px rgba(0,0,0,0.18); border: 1px solid rgba(0,228,242,0.2); }\n        .title { font-family: 'Montserrat', system-ui, sans-serif; font-weight: 700; font-size: 1.75rem; color: #121212; }\n        .subtitle { font-family: 'Poppins', system-ui, sans-serif; color: #555; margin-top: 6px; }\n        .form { display: grid; gap: 12px; margin-top: 16px; }\n        .label { font-family: 'Inter', system-ui, sans-serif; font-size: 0.95rem; color: #333; }\n        .input { font-family: 'Inter', system-ui, sans-serif; padding: 10px 12px; border-radius: 10px; border: 1px solid #A6A6A6; outline: none; }\n        .input:focus { border-color: #00E4F2; box-shadow: 0 0 0 3px rgba(0,228,242,0.2); }\n        .btnPrimary { background: #D12BF2; color: white; border: none; border-radius: 10px; padding: 10px 14px; font-weight: 600; cursor: pointer; margin-top: 8px; }\n        .btnPrimary:hover { filter: brightness(1.05); }\n        .btnPrimary:disabled { opacity: 0.7; cursor: not-allowed; }\n        .actions { display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 12px; }\n        .text { font-family: 'Inter', system-ui, sans-serif; font-size: 0.9rem; color: #555; }\n        .link { font-family: 'Inter', system-ui, sans-serif; font-size: 0.9rem; color: #004A54; text-decoration: underline; cursor: pointer; }\n        .error { background: rgba(209,43,242,0.1); border: 1px solid rgba(209,43,242,0.3); padding: 8px 10px; border-radius: 8px; color: #68007B; }\n        @media (max-width: 480px) { .register-card { margin: 0 16px; } }\n      "})]})}export{o as default};
