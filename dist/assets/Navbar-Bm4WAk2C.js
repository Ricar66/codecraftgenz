import{u as s,j as a,y as e,s as i,O as n,t as l,_ as r,$ as c,a0 as o}from"./index-BNwvcLYh.js";import{r as t,u as _,L as m}from"./router-Bh7m2j_b.js";const d="/assets/logo-principal-BBo_J_xE.png",j="_navbar_1q0is_4",u="_navbarContainer_1q0is_19",x="_logoWrapper_1q0is_30",h="_logo_1q0is_30",N="_navMenu_1q0is_69",p="_navItem_1q0is_78",k="_navLink_1q0is_82",v="_navLinkActive_1q0is_103",C="_navLinkB2B_1q0is_122",$="_navLinkCta_1q0is_136",q="_mobileIcon_1q0is_180",b="_active_1q0is_250",g="_userMenuWrapper_1q0is_371",f="_userButton_1q0is_375",w="_userAvatar_1q0is_393",L="_userName_1q0is_405",D="_userChevron_1q0is_415",M="_userChevronOpen_1q0is_421",E="_userDropdown_1q0is_426",B="_userDropdownHeader_1q0is_452",A="_userDropdownName_1q0is_457",I="_userDropdownEmail_1q0is_465",S="_userDropdownDivider_1q0is_471",y="_userDropdownItem_1q0is_477",O="_userDropdownItemLogout_1q0is_498",P="_userMobileLinks_1q0is_522",F="_logoutMobileBtn_1q0is_554",R=t.memo(()=>{const[R,W]=t.useState(!1),[G,H]=t.useState(!1),J=t.useRef(null),U=_(),{user:Z,isAuthenticated:z,logout:K,loading:Q}=s();t.useEffect(()=>{const s=s=>{J.current&&!J.current.contains(s.target)&&H(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const T=t.useCallback(()=>{W(s=>!s)},[]),V=t.useCallback(()=>{W(!1)},[]),X=t.useCallback(s=>U.pathname===s,[U.pathname]),Y=t.useCallback(async()=>{H(!1),V(),await K()},[V,K]),ss=Z?.name?Z.name.split(" ")[0]:"Usuario";return a.jsx("nav",{className:j,"aria-label":"Navegacao principal",children:a.jsxs("div",{className:u,children:[a.jsx(m,{to:"/",className:x,onClick:V,children:a.jsx("img",{src:d,alt:"CodeCraft Gen-Z Logo",className:h})}),a.jsxs("ul",{id:"nav-menu",className:R?`${N} ${b}`:N,children:[a.jsx("li",{className:p,children:a.jsx(m,{to:"/",className:`${k} ${X("/")?v:""}`,onClick:V,children:"Inicio"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/desafios",className:`${k} ${X("/desafios")?v:""}`,onClick:V,children:"Desafios"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/projetos",className:`${k} ${X("/projetos")?v:""}`,onClick:V,children:"Projetos"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/mentoria",className:`${k} ${X("/mentoria")?v:""}`,onClick:V,children:"Mentorias"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/ranking",className:`${k} ${X("/ranking")?v:""}`,onClick:V,children:"Ranking"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/feedbacks",className:`${k} ${X("/feedbacks")?v:""}`,onClick:V,children:"Feedbacks"})}),a.jsx("li",{className:p,children:a.jsx(m,{to:"/aplicativos",className:`${k} ${X("/aplicativos")?v:""}`,onClick:V,children:"Aplicativos"})}),a.jsx("li",{className:p,children:a.jsxs(m,{to:"/para-empresas",className:`${k} ${C} ${X("/para-empresas")?v:""}`,onClick:V,children:[a.jsx(e,{"aria-hidden":"true"})," Para Empresas"]})}),!Q&&(z?a.jsxs("li",{className:`${p} ${g}`,ref:J,children:[a.jsxs("button",{className:f,onClick:()=>H(!G),"aria-expanded":G,"aria-haspopup":"true",children:[a.jsx("span",{className:w,children:a.jsx(i,{})}),a.jsxs("span",{className:L,children:["Ola, ",ss]}),a.jsx(n,{className:`${D} ${G?M:""}`})]}),G&&a.jsxs("div",{className:E,children:[a.jsxs("div",{className:B,children:[a.jsx("span",{className:A,children:Z?.name}),a.jsx("span",{className:I,children:Z?.email})]}),a.jsx("div",{className:S}),a.jsxs(m,{to:"/minha-conta",className:y,onClick:()=>{H(!1),V()},children:[a.jsx(l,{}),"Minhas Compras"]}),a.jsxs(m,{to:"/minha-conta",className:y,onClick:()=>{H(!1),V()},children:[a.jsx(i,{}),"Meu Perfil"]}),a.jsx("div",{className:S}),a.jsxs("button",{className:O,onClick:Y,children:[a.jsx(r,{}),"Sair"]})]}),a.jsxs("div",{className:P,children:[a.jsxs(m,{to:"/minha-conta",className:k,onClick:V,children:[a.jsx(l,{})," Minhas Compras"]}),a.jsxs("button",{className:`${k} ${F}`,onClick:Y,children:[a.jsx(r,{})," Sair"]})]})]}):a.jsx("li",{className:p,children:a.jsx(m,{to:"/login",className:`${k} ${$}`,onClick:V,children:"Entrar"})}))]}),a.jsx("button",{className:q,onClick:T,"aria-label":R?"Fechar menu":"Abrir menu","aria-expanded":R,"aria-controls":"nav-menu",children:R?a.jsx(c,{}):a.jsx(o,{})})]})})});R.displayName="Navbar";export{R as N,d as l};
