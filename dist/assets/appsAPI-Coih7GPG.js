import{a as t,aA as a,aw as n}from"./index-BNwvcLYh.js";async function e({page:a=1,pageSize:n=24,sortBy:e="updatedAt",sortOrder:r}={}){const i=new URLSearchParams;i.set("page",a),i.set("pageSize",n),i.set("sortBy",e),r&&i.set("sortOrder",r);const o=await t(`/api/apps/public?${i.toString()}`,{method:"GET"});return o?.data??o}async function r({page:n=1,pageSize:e=50,limit:r,sortBy:i,sortOrder:o="desc",publicFallback:s}={}){const p=new URLSearchParams;p.set("page",n),p.set("pageSize",e??r??50),i&&p.set("sortBy",i),o&&p.set("sortOrder",o);try{return(await t(`/api/apps?${p.toString()}`,{method:"GET"})).data}catch(c){if(a(c,s)){return(await t(`/api/apps/public?${p.toString()}`,{method:"GET"})).data}throw c}}async function i(a){return t(`/api/apps/${a}`,{method:"GET"})}async function o(a,n={}){return t(`/api/apps/from-project/${a}`,{method:"POST",body:JSON.stringify(n)})}async function s(a,n){return t(`/api/apps/${a}`,{method:"PUT",body:JSON.stringify(n)})}async function p(a){return t("/api/apps",{method:"POST",body:JSON.stringify(a)})}async function c(a){return t(`/api/apps/${a}`,{method:"DELETE"})}async function d(t,a){const e=new FormData;e.append("file",a);return n(`/api/apps/${t}/executable/upload`,e,{method:"POST"})}async function y(a,n={}){const e=Object.keys(n||{}).length?JSON.stringify(n):void 0;return t(`/api/apps/${a}/purchase`,{method:"POST",...e?{body:e}:{}})}async function m(a,n={},e={}){const r={};return e?.deviceId&&(r["x-device-id"]=String(e.deviceId)),e?.trackingId&&(r["x-tracking-id"]=String(e.trackingId)),t(`/api/apps/${a}/payment/direct`,{method:"POST",body:JSON.stringify(n),headers:r})}async function u(a={}){const n=new URLSearchParams(a).toString();return t(`/api/payments/search?${n}`,{method:"GET"})}async function g(a){if(null==a||0===String(a).length)throw new Error("id é obrigatório");return t(`/api/payments/${encodeURIComponent(String(a))}`,{method:"GET"})}async function h(a,n={}){if(null==a||0===String(a).length)throw new Error("id é obrigatório");if(!n||"object"!=typeof n||0===Object.keys(n).length)throw new Error("payload JSON é obrigatório");return t(`/api/payments/${encodeURIComponent(String(a))}`,{method:"PUT",body:JSON.stringify(n)})}async function f(a,n={}){const e=new URLSearchParams(n).toString();return t(`/api/apps/${a}/purchase/status?${e}`,{method:"GET"})}async function S(a,{email:n,payment_id:e}={}){const r={};n&&(r.email=n),e&&(r.payment_id=e);const i=Object.keys(r).length>0;return t(`/api/apps/${a}/download`,{method:"POST",...i?{body:JSON.stringify(r)}:{}})}async function l({email:a,appId:n,hardwareId:e}){return t("/api/public/license/activate-device",{method:"POST",body:JSON.stringify({email:a,app_id:n,hardware_id:e})})}async function b(a,n){return t(`/api/apps/${a}/download/by-email`,{method:"POST",body:JSON.stringify({email:n})})}async function O({page:a=1,pageSize:n=20}={}){return t(`/api/apps/history?page=${a}&pageSize=${n}`,{method:"GET"})}async function w(a,{rating:n,comment:e}){return t(`/api/apps/${a}/feedback`,{method:"POST",body:JSON.stringify({rating:n,comment:e})})}async function T(a,n){if(!a)throw new Error("appId é obrigatório");if(!n)throw new Error("email é obrigatório");return t(`/api/apps/${a}/resend-email`,{method:"POST",body:JSON.stringify({email:n})})}async function $(a){if(!a)throw new Error("paymentId é obrigatório");return t(`/api/payments/admin/app-payments/${encodeURIComponent(String(a))}`,{method:"GET"})}export{O as a,f as b,m as c,y as d,i as e,l as f,e as g,b as h,T as i,r as j,s as k,c as l,d as m,p as n,u as o,$ as p,g as q,S as r,w as s,h as t,o as u};
