import{j as e}from"./index-DQkRuPgL.js";import{u as a,r as s}from"./router-Bh7m2j_b.js";import{N as r}from"./Navbar-CSWGQ87u.js";import{c as t}from"./userAPI-B3dychSI.js";const n="_resetPage_1jad8_5",c="_sectionBlock_1jad8_13",i="_card_1jad8_21",l="_title_1jad8_45",o="_subtitle_1jad8_59",d="_form_1jad8_71",_="_label_1jad8_83",u="_input_1jad8_95",j="_btnPrimary_1jad8_133",m="_error_1jad8_173",h="_success_1jad8_189";function p(){const p=a(),[x,N]=s.useState(""),[f,b]=s.useState(""),[v,S]=s.useState(!1),[g,k]=s.useState(""),[w,P]=s.useState("");s.useEffect(()=>{const e=new URLSearchParams(p.search||"").get("token")||"";e&&b(e)},[p.search]);return e.jsxs("div",{className:`${n} page-with-background`,children:[e.jsx(r,{}),e.jsx("section",{className:c,children:e.jsxs("div",{className:i,children:[e.jsx("h1",{className:l,children:"Redefinir Senha"}),e.jsx("p",{className:o,children:"Insira a nova senha para sua conta."}),e.jsxs("form",{className:d,onSubmit:async e=>{e.preventDefault(),k(""),P(""),S(!0);const a=await t({token:f,newPassword:x});S(!1),a.ok?P(a.message||"Senha redefinida com sucesso"):k(a.error||"Falha ao redefinir senha")},children:[e.jsx("label",{className:_,children:"Nova Senha"}),e.jsx("input",{className:u,type:"password",value:x,onChange:e=>N(e.target.value),required:!0}),e.jsx("label",{className:_,children:"Token"}),e.jsx("input",{className:u,type:"text",value:f,onChange:e=>b(e.target.value),placeholder:"Token do link recebido por e-mail",required:!0}),g&&e.jsx("div",{className:m,role:"alert",children:g}),w&&e.jsx("div",{className:h,role:"status",children:w}),e.jsx("button",{className:j,type:"submit",disabled:v||!f,children:v?"Processando...":"Redefinir Senha"})]})]})})]})}export{p as default};
