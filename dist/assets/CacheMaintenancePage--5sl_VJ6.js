import{j as e}from"./index-iOmXG8wF.js";import{r as a}from"./router-5U3rcizL.js";const r=()=>{const[r,o]=a.useState([]),[c,s]=a.useState(!1),t=e=>o(a=>[...a,e]),i=a.useCallback(async()=>{try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();for(const a of e)t(`Removendo Service Worker: ${a.scope}`),await a.unregister()}if("caches"in window){const e=await caches.keys();for(const a of e)t(`Removendo cache: ${a}`),await caches.delete(a)}s(!0),t("Service Workers e caches limpos. Recarregue a página.")}catch(e){t("Erro ao limpar caches: "+(e?.message||String(e)))}},[]);return a.useEffect(()=>{i()},[i]),e.jsxs("div",{className:"cache-page page-with-background",style:{maxWidth:800,margin:"24px auto",padding:16},children:[e.jsx("h1",{style:{color:"var(--texto-branco)"},children:"Limpeza de Cache"}),e.jsx("p",{className:"muted",children:"Executando manutenção de Service Workers e caches antigos (workbox-precache-v2, etc.)."}),e.jsx("button",{className:"btn btn-outline",onClick:i,disabled:c,children:c?"Concluído":"Executar novamente"}),e.jsx("div",{style:{marginTop:12},children:e.jsx("pre",{style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:8,padding:12,color:"var(--texto-gelo)"},children:r.join("\n")})})]})};export{r as default};
